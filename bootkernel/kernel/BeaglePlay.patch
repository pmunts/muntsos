--- arch/arm64/boot/dts/ti/k3-am625-beagleplay.dts.orig	2025-02-05 10:47:52.000000000 -0800
+++ arch/arm64/boot/dts/ti/k3-am625-beagleplay.dts	2025-02-25 13:41:23.582510973 -0800
@@ -167,50 +167,34 @@
 		led-0 {
 			bootph-all;
 			gpios = <&main_gpio0 3 GPIO_ACTIVE_HIGH>;
-			linux,default-trigger = "heartbeat";
-			function = LED_FUNCTION_HEARTBEAT;
 			default-state = "off";
 		};
 
 		led-1 {
 			bootph-all;
 			gpios = <&main_gpio0 4 GPIO_ACTIVE_HIGH>;
-			linux,default-trigger = "disk-activity";
-			function = LED_FUNCTION_DISK_ACTIVITY;
-			default-state = "keep";
+			default-state = "off";
 		};
 
 		led-2 {
 			bootph-all;
 			gpios = <&main_gpio0 5 GPIO_ACTIVE_HIGH>;
-			function = LED_FUNCTION_CPU;
+			default-state = "off";
 		};
 
 		led-3 {
 			bootph-all;
 			gpios = <&main_gpio0 6 GPIO_ACTIVE_HIGH>;
-			function = LED_FUNCTION_LAN;
+			default-state = "off";
 		};
 
 		led-4 {
 			bootph-all;
 			gpios = <&main_gpio0 9 GPIO_ACTIVE_HIGH>;
-			function = LED_FUNCTION_WLAN;
-		};
-	};
-
-	gpio_keys: gpio-keys {
-		compatible = "gpio-keys";
-		autorepeat;
-		pinctrl-names = "default";
-		pinctrl-0 = <&usr_button_pins_default>;
-
-		usr: button-usr {
-			label = "User Key";
-			linux,code = <BTN_0>;
-			gpios = <&main_gpio0 18 GPIO_ACTIVE_LOW>;
+			linux,default-trigger = "heartbeat";
+			function = LED_FUNCTION_HEARTBEAT;
+			default-state = "off";
 		};
-
 	};
 
 	hdmi0: connector-hdmi {
@@ -530,6 +514,25 @@
 			AM62X_IOPAD(0x01b8, PIN_OUTPUT, 2) /* (C13) SPI0_CS1.EHRPWM0_B */
 		>;
 	};
+
+	// Configure all mikroBUS pins as GPIO.  Invoked by mikrobus-gpio.dtbo.
+
+	mikrobus_gpio: mikrobus-gpio {
+		pinctrl-single,pins = <
+			AM62X_IOPAD(0x01a0, PIN_INPUT, 7) /* (E18) AN   */
+			AM62X_IOPAD(0x01a8, PIN_INPUT, 7) /* (D20) RST  */
+			AM62X_IOPAD(0x01ac, PIN_INPUT, 7) /* (E19) CS   */
+			AM62X_IOPAD(0x01b0, PIN_INPUT, 7) /* (A20) SCK  */
+			AM62X_IOPAD(0x0194, PIN_INPUT, 7) /* (B19) MISO */
+			AM62X_IOPAD(0x0198, PIN_INPUT, 7) /* (A19) MOSI */
+			AM62X_IOPAD(0x01a4, PIN_INPUT, 7) /* (B20) PWM  */
+			AM62X_IOPAD(0x019c, PIN_INPUT, 7) /* (B18) INT  */
+			AM62X_IOPAD(0x01d8, PIN_INPUT, 7) /* (C15) RX   */
+			AM62X_IOPAD(0x01dc, PIN_INPUT, 7) /* (E15) TX   */
+			AM62X_IOPAD(0x01d0, PIN_INPUT, 7) /* (A15) SCL  */
+			AM62X_IOPAD(0x01d4, PIN_INPUT, 7) /* (B15) SDA  */
+		>;
+	};
 };
 
 &mcu_pmx0 {
@@ -857,6 +860,12 @@
 	pinctrl-names = "default";
 	pinctrl-0 = <&mikrobus_spi_pins_default>;
 	status = "okay";
+
+	spidev@0 {
+		compatible = "rohm,dh2228fv";
+		status = "okay";
+		reg = <0>;
+	};
 };
 
 &sdhci0 {
--- drivers/usb/gadget/legacy/hid.c.orig	2025-02-05 10:47:52.000000000 -0800
+++ drivers/usb/gadget/legacy/hid.c	2025-02-24 22:53:32.488524396 -0800
@@ -267,6 +267,48 @@
 	},
 };
 
+/* Additional goop to define a USB raw HID gadget */
+
+static struct hidg_func_descriptor raw_hid_data = {
+        .subclass               = 0, /* No subclass */
+        .protocol               = 0, /* No protocol */
+        .report_length          = 64,
+        .report_desc_length     = 33,
+        .report_desc            = {
+0x06, 0x00, 0xFF, // Usage Page = 0xFF00 (Vendor Defined Page 1)
+0x09, 0x01,       // Usage (Vendor Usage 1)
+0xA1, 0x01,       // Collection (Application)
+// Input report
+0x19, 0x01,       // Usage Minimum
+0x29, 0x40,       // Usage Maximum
+0x15, 0x00,       // Logical Minimum
+0x26, 0xFF, 0x00, // Logical Maximum
+0x75, 0x08,       // Report Size: 8-bit field size
+0x95, 64,         // Report Count
+0x81, 0x02,       // Input (Data, Array, Abs)
+// Output report
+0x19, 0x01,       // Usage Minimum
+0x29, 0x40,       // Usage Maximum
+0x75, 0x08,       // Report Size: 8-bit field size
+0x95, 64,         // Report Count
+0x91, 0x02,       // Output (Data, Array, Abs)
+0xC0              // End Collection
+        }
+};
+
+static struct platform_device raw_hid = {
+        .name                   = "hidg",
+        .id                     = 0,
+        .num_resources          = 0,
+        .resource               = 0,
+        .dev.platform_data      = &raw_hid_data,
+};
+
+int __init init_raw_hid(void)
+{
+	pr_info("g_hid: loading raw HID descriptor\n");
+	return platform_device_register(&raw_hid);
+}
 
 MODULE_DESCRIPTION(DRIVER_DESC);
 MODULE_AUTHOR("Fabien Chouteau, Peter Korsgaard");
@@ -276,6 +318,8 @@
 {
 	int status;
 
+	init_raw_hid();
+
 	status = platform_driver_probe(&hidg_plat_driver,
 				hidg_plat_driver_probe);
 	if (status < 0)
